<h1>投稿ごとのページ</h1>
<p>Find me in app/views/books/show.html.erb</p>
<%= link_to "戻る", books_path %>
<h2>ログインユーザー</h2>
<%= render "login" %>
<hr>
<%= @book.id %>
<%= @book.start_i %>～<%= @book.finish_i %>
<%= link_to "削除", book_path(@book.id), data: { turbo_method: :delete } %>
<br>
<%= link_to "祝日", book_holidays_path(@book.id), data: { turbo_method: :post } %>
<%= form_with model: Holiday.new, url: book_holidays_path(@book.id), method: :post do |f| %>
  <%= f.radio_button :trigger, "1" %>〇
  <%= f.radio_button :trigger , 0 %>×
  <%= f.submit "提出" %>
<% end %>
<br>
<%= Holiday.all.each do |day| %>
  <%= day.trigger %>
  <%= day.book_id %>
  <%= link_to "削除", book_holiday_path(day.book_id, day.id), data: { turbo_method: :delete } %>
<% end %>
<hr>
<table>
  <tr>
    <th><%= @book.start_i.month %>月<%= @book.start_i.day %>日</td>
    <th><%= (@book.start_i+1).month %>月<%= (@book.start_i+1).day %>日</th>
    <th><%= (@book.start_i+2).month %>月<%= (@book.start_i+2).day %>日</th>
    <th><%= (@book.start_i+3).month %>月<%= (@book.start_i+3).day %>日</th>
    <th><%= (@book.start_i+4).month %>月<%= (@book.start_i+4).day %>日</th>
    <th><%= (@book.start_i+5).month %>月<%= (@book.start_i+5).day %>日</th>
    <th><%= (@book.start_i+6).month %>月<%= (@book.start_i+6).day %>日</th>
  </tr>
  <tr>
    <td>月</td>
    <td>火</td>
    <td>水</td>
    <td>木</td>
    <td>金</td>
    <td style="color: blue">土</td>
    <td style="color: red">日</td>
  </tr>
</table>
<hr>
<h3>コメント一覧</h3>
<%= Book.find(params[:id]).id %>
<br>
<% Comment.all.each do |comment| %>
  <%= comment.id %>
  <%= comment.book_id %>
  <%= comment.comment %>
  <%= link_to "削除", book_comment_path(comment.id), data: { turbo_method: :delete } %>
  <%= comment.user_id %>
  <br>
<% end %>
<hr>
<h3>ユーザー一覧からコメント</h3>
<% User.all.each do |user| %>
  <%= user.id %>
  <%= user.name %>
  <% if user.comment_by?(@book.id,user.id) %>
    〇
    <% Comment.all.each do |comment| %>
      <% if @book.id == comment.book_id && user.id == comment.user_id %>
        <%= comment.comment %>
        <%= link_to "削除", book_comment_path(comment.id), data: { turbo_method: :delete } %>  
      <% end %>
    <% end %>
  <% else %>
    ×
    <%= render "form", book:@book %>
  <% end %>
  <br>
<% end %>
    